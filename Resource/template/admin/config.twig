{#
/*
 * This file is part of the ProductReview plugin
 *
 * Copyright (C) 2016 LOCKON CO.,LTD. All Rights Reserved.
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
#}

{% extends '@admin/default_frame.twig' %}

{% set menus = ['setting', 'system', 'wysiwygeditor'] %}

{% block title %}{{ 'リッチエディタ反映先設定'|trans }}{% endblock %}
{% block sub_title %}{{ 'Wysiwyg Editor Plugin Settings'|trans }}{% endblock %}

{% block main %}
    <div class="c-contentsArea__cols">
        <div class="c-contentsArea__primaryCol">
            <div class="c-primaryCol">

                <form id="form" name="form" method="post" action="{{ url('wysiwyg_editor_admin_config_edit') }}">
                    {{ form_widget(form._token) }}
                    <div class="card rounded border-0 mb-4">
                        <div class="card-header">
                            <div class="read">
                                WysiwygEditorを有効にするURLとSELECTORの組み合わせを設定します。<br>
                                例えば、商品編集画面の[商品説明]をWysiwygEditorにしたい場合は、
                                URL：<code>product/product/</code> , SELECTOR：<code>textarea#admin_product_description_detail</code> と設定してください。
                            </div>
                        </div>
                        <div class="card-body">
                            <table class="table table-sm">
                                <thead>
                                <tr>
                                    <th class="border-top-0 pt-2 pb-2 text-center" style="width: 50%" colspan="2">
                                        URL
                                    </th>
                                    <th class="border-top-0 pt-2 pb-2 text-center" colspan="1">
                                        SELECTOR
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for data in form.data %}
                                    <tr id="ex-masterdata-{{ data.vars.id }}">
                                        {{ form_widget(data.id) }}
                                        <td class="align-middle text-right" colspan="1">admin/</td>
                                        <td class="align-middle text-center" colspan="1">
                                            {{ form_widget(data.url_path) }}
                                            {{ form_errors(data.url_path) }}
                                        </td>
                                        <td class="align-middle text-center" colspan="1">
                                            {{ form_widget(data.selector) }}
                                            {{ form_errors(data.selector) }}
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="c-conversionArea">
                        <div class="c-conversionArea__container">
                            <div class="row justify-content-between align-items-center">
                                <div class="col-6">
                                    <div class="c-conversionArea__leftBlockItem">
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div id="ex-conversion-action" class="row align-items-center justify-content-end">
                                        <div class="col-auto">
                                            <button class="btn btn-ec-conversion px-5" type="submit">{{ 'admin.common.save'|trans }}</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>


                <diiv class="card rounded border-0 mb-4">
                    <div class="card-header">
                        <div class="read">
                        ヘルプ
                        </div>
                    </div>
                    <div class="card-body">
                        <table class="table table-sm">
                            <thead>
                            <tr>
                                <th class="border-top-0 pt-2 pb-2 text-center" colspan="1">
                                    反映箇所
                                </th>
                                <th class="border-top-0 pt-2 pb-2 text-center" colspan="1">
                                    URL
                                </th>
                                <th class="border-top-0 pt-2 pb-2 text-center" colspan="1">
                                    SELECTOR
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="align-middle text-center" colspan="1">
                                        商品管理＞商品登録 [商品説明]
                                        <br><small>商品編集画面含む</small>
                                    </td>
                                    <td class="align-middle text-center" colspan="1">
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="product/product/" readonly="readonly">
                                            <div class="input-group-prepend" data-toggle="tooltip" data-placement="top" title="コピー完了">
                                                <div class="input-group-text js-copy">Copy</div>
                                            </div>

                                        </div>
                                    </td>

                                    <td class="align-middle text-center" colspan="1">
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="textarea#admin_product_description_detail" readonly="readonly">
                                            <div class="input-group-prepend" data-toggle="tooltip" data-placement="top" title="コピー完了">
                                                <div class="input-group-text js-copy">Copy</div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>


                                <tr>
                                    <td class="align-middle text-center" colspan="1">
                                        商品管理＞商品登録 [フリーエリア]
                                        <br><small>商品編集画面含む</small>
                                    </td>
                                    <td class="align-middle text-center" colspan="1">
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="product/product/" readonly="readonly">
                                            <div class="input-group-prepend" data-toggle="tooltip" data-placement="top" title="コピー完了">
                                                <div class="input-group-text js-copy">Copy</div>
                                            </div>
                                        </div>
                                    </td>

                                    <td class="align-middle text-center" colspan="1">
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="textarea#wysiwyg-area" readonly="readonly">
                                            <div class="input-group-prepend" data-toggle="tooltip" data-placement="top" title="コピー完了">
                                                <div class="input-group-text js-copy">Copy</div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="align-middle text-center" colspan="1">
                                        コンテンツ管理＞新着情報管理 [本文]
                                        <br><small>新規作成画面含む</small>
                                    </td>
                                    <td class="align-middle text-center" colspan="1">
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="content/news/" readonly="readonly">
                                            <div class="input-group-prepend" data-toggle="tooltip" data-placement="top" title="コピー完了">
                                                <div class="input-group-text js-copy">Copy</div>
                                            </div>

                                        </div>
                                    </td>

                                    <td class="align-middle text-center" colspan="1">
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="textarea#admin_news_description" readonly="readonly">
                                            <div class="input-group-prepend" data-toggle="tooltip" data-placement="top" title="コピー完了">
                                                <div class="input-group-text js-copy">Copy</div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </diiv>


            </div>
        </div>
    </div>
    <script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip({
            trigger : 'click'
        });

        $('.js-copy').on('click',function(e){
            $(this).parents('.input-group').eq(0).find('.form-control')[0].select();
            document.execCommand("Copy");
        });
        
    })
</script>
{% endblock %}
